<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NIKOLAS & KAVITA ‚Äî 27 Oct 2025, Kochi</title>

  <link rel="icon" href="data:," />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

  <meta name="description" content="Wedding Ceremony of Nikolas Samson D'Costa and Kavita Kevin Fernandes ‚Äî 27 Oct 2025, 3:00 PM at Santa Cruz Cathedral Basilica, Fort Kochi. Reception at The Croft, Kochi. Home: Zion Villa, MLA Road, Pallurthy, Kochi 682006." />
  <meta property="og:title" content="NIKOLAS & KAVITA ‚Äî Wedding Ceremony" />
  <meta property="og:description" content="27 Oct 2025 ‚Ä¢ 3:00 PM ‚Ä¢ Santa Cruz Cathedral Basilica, Fort Kochi ‚Ä¢ Reception at The Croft, Kochi." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/assets/hero.jpg" />
  <meta name="theme-color" content="#7b1733" />

  <style>
    :root { --wine:#7b1733; --wine-soft:#fdebef; --ink:#1f2937; }
    html, body { height: 100%; scroll-behavior: smooth; }
    body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; color: var(--ink); position: relative; }

    /* Simple background (fully covered by petal carpet) */
    body::before{
      content:""; position:fixed; inset:0; z-index:-3;
      background: linear-gradient(135deg, #7b1733 0%, #a91d47 50%, #7b1733 100%);
    }
    body::after{
      content:""; position:fixed; inset:0; z-index:-2;
      background:
        radial-gradient(80% 70% at 50% -10%, rgba(123,23,51,.25), transparent 60%),
        linear-gradient(180deg, rgba(20,6,10,.55), rgba(20,6,10,.65));
    }
    
    /* (Optional) fallback overlay behind petals */
    #petalOverlay {
      position: fixed; inset: 0; z-index: 15;
      background: var(--wine);
      transition: opacity 0.6s ease;
    }
    
    /* Petal layers (static carpet + light animation) */
    #fxStatic{ position:fixed; inset:0; z-index:25; pointer-events:none; }
    #fxAnim{   position:fixed; inset:0; z-index:26; pointer-events:none; }

    /* Names + heart ABOVE petals */
    #touchIntro {
      position:fixed; inset:0; z-index:80;
      display:flex; align-items:center; justify-content:center; flex-direction:column;
      padding:2rem; text-align:center; color:#fff; background:transparent;
      transition:opacity .6s ease, visibility .6s ease;
    }
    #touchIntro.hidden{ opacity:0; visibility:hidden; }

    .name-text{
      font-family:"Playfair Display", Georgia, serif;
      font-size:clamp(28px, 8vw, 60px);
      font-weight:700; line-height:1.2; letter-spacing:.01em;
      text-shadow:0 2px 14px rgba(0,0,0,.45);
      opacity:0; transform:translateY(16px); animation: fadeUp 1s ease forwards;
      transition: transform 1s ease, opacity 1s ease;
    }
    .name-left{ transform: translateX(-40px); animation-delay: .2s; }
    .name-right{ transform: translateX(40px);  animation-delay: .2s; }
    .name-merge .name-left, .name-merge .name-right { transform: translateX(0); }

    /* 3D heart */
    .heart-btn{
      background:none; border:none; padding:0 15px; cursor:pointer;
      opacity:0; animation:fadeUp 1s ease .4s forwards;
      display:flex; align-items:center; justify-content:center;
      position:relative; width:clamp(88px, 16vw, 128px); aspect-ratio:1/1;
      transition: transform .2s ease-in-out;
    }
    .heart-btn:hover { transform: translateY(-2px) scale(1.03); }
    .heart-svg { width:100%; height:100%; filter: drop-shadow(0 10px 14px rgba(0,0,0,.35)); }
    .touch-text{
      position:absolute; bottom:-1.75rem; left:50%; transform:translateX(-50%);
      font-size:clamp(10px, 2.5vw, 16px); font-weight:600; color:#fff; opacity:.9;
      text-shadow:0 1px 4px rgba(0,0,0,.55);
    }

    @keyframes fadeUp { to { opacity:1; transform:none; } }
    @keyframes float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-10px)} }
    .floating { animation: float 3s ease-in-out infinite; }

    /* Invitation card overlay (above petals, below names) */
    .invitation-card {
      position: fixed; inset: 0; z-index: 60;
      display: flex; align-items: center; justify-content: center;
      padding: 1rem; opacity: 0; visibility: hidden;
      transition: opacity 0.8s ease, visibility 0.8s ease;
    }
    .invitation-card.visible { opacity:1; visibility:visible; }
    .card-content {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-radius: 20px; padding: 3rem 2rem; max-width: 500px; width: 100%;
      text-align: center; box-shadow: 0 20px 40px rgba(0,0,0,0.2);
      transform: translateY(20px); transition: transform 0.8s ease;
    }
    .invitation-card.visible .card-content { transform: translateY(0); }
    .couple-names { font-family:"Playfair Display", Georgia, serif; font-size:clamp(24px,6vw,36px); font-weight:700; color:var(--wine); margin-bottom:1rem; line-height:1.2; }
    .wedding-date { font-size:clamp(16px,4vw,20px); font-weight:600; color:var(--ink); margin-bottom:2rem; }
    .venue-info { margin-bottom: 1.25rem; }
    .venue-title { font-weight:600; color:var(--wine); margin-bottom:.35rem; }
    .venue-details { color:var(--ink); line-height:1.5; }
    .rsvp-section { margin-top:1.25rem; padding-top:1.25rem; border-top:1px solid rgba(123,23,51,0.2); }
    .rsvp-btn { background:var(--wine); color:#fff; padding:12px 24px; border:none; border-radius:25px; font-weight:600; cursor:pointer; transition:.3s; margin:0 .5rem; }
    .rsvp-btn:hover { background:#a91d47; transform:translateY(-2px); }

    @media (max-width: 640px){
      .card-content { padding: 2rem 1.5rem; margin: 1rem; }
    }

    @media (prefers-reduced-motion: reduce){
      #fxStatic,#fxAnim,#touchIntro{ display:none; }
      .invitation-card{ opacity:1; visibility:visible; }
    }
  </style>
</head>

<body>
  <!-- Fallback overlay (sits behind petals) -->
  <div id="petalOverlay"></div>

  <!-- Petal layers -->
  <canvas id="fxStatic"></canvas>
  <canvas id="fxAnim"></canvas>

  <!-- Names + 3D heart -->
  <div id="touchIntro" aria-label="Intro">
    <div id="nameWrapper" class="flex gap-4 items-center">
      <div class="name-text name-left">NIKOLAS</div>

      <button class="heart-btn floating" id="heartBtn" onclick="beginExperience()" aria-label="Begin">
        <svg class="heart-svg" viewBox="0 0 24 24" aria-hidden="true">
          <defs>
            <linearGradient id="heartGrad" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%"  stop-color="#ff6b8f"/>
              <stop offset="45%" stop-color="#e91e63"/>
              <stop offset="100%" stop-color="#a71235"/>
            </linearGradient>
            <radialGradient id="heartShine" cx="30%" cy="25%" r="60%">
              <stop offset="0%" stop-color="rgba(255,255,255,.85)"/>
              <stop offset="60%" stop-color="rgba(255,255,255,0)"/>
            </radialGradient>
          </defs>
          <path fill="url(#heartGrad)" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
          <path fill="url(#heartShine)" d="M12 4.8c-1.6-2-5.8-2.2-7.8.3-2.2 2.8-.6 6.4 1.7 8.7 2.6 2.7 5.3 4.8 6.1 5.4 0 0 3.2-2.7 5.7-5.2 1.8-1.8 3.7-4.9 2-7.6-2.2-3.4-6.4-2.6-7.7-1.6-.7.6-1.3.6-2 0z" opacity=".5"/>
        </svg>
        <span class="touch-text">touch me</span>
      </button>

      <div class="name-text name-right">KAVITA</div>
    </div>
  </div>

  <!-- Invitation card -->
  <div class="invitation-card" id="invitationCard">
    <div class="card-content">
      <div class="couple-names">NIKOLAS &amp; KAVITA</div>
      <div class="wedding-date">27 October 2025 ‚Ä¢ 3:00 PM</div>
      
      <div class="venue-info">
        <div class="venue-title">Wedding Ceremony</div>
        <div class="venue-details">
          Santa Cruz Cathedral Basilica<br>Fort Kochi
        </div>
      </div>

      <div class="venue-info">
        <div class="venue-title">Reception</div>
        <div class="venue-details">
          The Croft<br>Kochi
        </div>
      </div>

      <div class="venue-info">
        <div class="venue-title">Home Address</div>
        <div class="venue-details">
          Zion Villa, MLA Road<br>Pallurthy, Kochi 682006
        </div>
      </div>

      <div class="rsvp-section">
        <p style="margin-bottom: 1rem; color: var(--wine); font-weight: 600;">We hope to celebrate with you!</p>
        <button class="rsvp-btn" onclick="rsvp('yes')">I'll be there! ‚ù§Ô∏è</button>
        <button class="rsvp-btn" onclick="rsvp('no')" style="background:#6b7280;">Can't make it üòî</button>
      </div>
    </div>
  </div>

<script>
/* -------- 3D Petal Engine: full-coverage static carpet + lightweight animation (mobile-optimized) -------- */
(function(){
  const staticCanvas = document.getElementById('fxStatic');
  const animCanvas   = document.getElementById('fxAnim');
  const sctx = staticCanvas.getContext('2d');
  const actx = animCanvas.getContext('2d');

  // cap devicePixelRatio to protect low-end phones
  const DPR_CAP = 1.25;
  function fitCanvas(c){
    const dpr = Math.min(window.devicePixelRatio || 1, DPR_CAP);
    c.width  = Math.floor(innerWidth  * dpr);
    c.height = Math.floor(innerHeight * dpr);
    c.style.width  = innerWidth + 'px';
    c.style.height = innerHeight + 'px';
    const ctx = c.getContext('2d');
    ctx.setTransform(dpr,0,0,dpr,0,0);
    return dpr;
  }
  let dpr = fitCanvas(staticCanvas); fitCanvas(animCanvas);
  addEventListener('resize', () => { dpr = fitCanvas(staticCanvas); fitCanvas(animCanvas); drawStaticCarpet(); });

  // Pre-render shaded petal sprites (gives 3D look with highlights/shadows)
  function makePetalSprite(scale=1, hue=345){
    const w = Math.round(80*scale), h = Math.round(120*scale);
    const cvs = document.createElement('canvas'); cvs.width=w; cvs.height=h;
    const ctx = cvs.getContext('2d');

    ctx.translate(w/2, h/2);
    ctx.rotate(Math.PI/2); // long axis vertical

    const grad = ctx.createLinearGradient(-w/2, -h/2, w/2, h/2);
    grad.addColorStop(0,  `hsl(${hue},72%,80%)`);
    grad.addColorStop(.45,`hsl(${hue},70%,60%)`);
    grad.addColorStop(1,  `hsl(${hue},72%,40%)`);
    ctx.fillStyle = grad;

    ctx.beginPath();
    ctx.ellipse(0,0, w*0.28, h*0.46, 0, 0, Math.PI*2);
    ctx.shadowColor = 'rgba(0,0,0,.18)'; ctx.shadowBlur = 6; ctx.shadowOffsetY = 2;
    ctx.fill();

    ctx.shadowColor = 'transparent';
    ctx.lineWidth = 1; ctx.strokeStyle = 'rgba(0,0,0,.12)'; ctx.stroke();

    const shine = ctx.createRadialGradient(-w*0.12, -h*0.18, 0, -w*0.12, -h*0.18, w*0.4);
    shine.addColorStop(0,'rgba(255,255,255,.55)');
    shine.addColorStop(1,'rgba(255,255,255,0)');
    ctx.fillStyle = shine;
    ctx.beginPath();
    ctx.ellipse(-w*0.05,-h*0.18, w*0.18, h*0.22, 0, 0, Math.PI*2);
    ctx.fill();

    return cvs;
  }
  const SPRITES = [
    makePetalSprite(1.00, 345),
    makePetalSprite(0.90, 350),
    makePetalSprite(1.10, 340),
  ];

  // Full-coverage static carpet (grid + jitter). Adjust STEP to tweak density.
  function drawStaticCarpet(){
    sctx.clearRect(0,0,innerWidth,innerHeight);

    const STEP = Math.max(30, Math.min(48, Math.floor(innerWidth/22))); // denser = smaller step
    const startX = -STEP, startY = -STEP;
    const endX = innerWidth + STEP, endY = innerHeight + STEP;

    for(let y=startY, row=0; y<endY; y+=STEP, row++){
      for(let x=startX; x<endX; x+=STEP){
        const spr = SPRITES[(row + Math.floor(x/STEP)) % SPRITES.length];
        const jx = x + (Math.random()*STEP*0.6 - STEP*0.3);
        const jy = y + (Math.random()*STEP*0.6 - STEP*0.3);
        const rot = (Math.random()*Math.PI*2);
        const size = 0.85 + Math.random()*0.6;

        sctx.save();
        sctx.translate(jx, jy);
        sctx.rotate(rot);
        sctx.globalAlpha = 0.95;
        const w = spr.width*size, h = spr.height*size;
        sctx.drawImage(spr, -w/2, -h/2, w, h);
        sctx.restore();
      }
    }
  }
  // First draw ASAP
  drawStaticCarpet();

  // Lightweight animated layer (very few floating petals for perf)
  const FLOATING_COUNT = /Mobi|Android/i.test(navigator.userAgent) ? 16 : 26;
  const petals = [];
  function makeFloating(){
    const spr = SPRITES[Math.floor(Math.random()*SPRITES.length)];
    return {
      spr,
      x: Math.random()*innerWidth,
      y: -50 - Math.random()*innerHeight,
      r: Math.random()*Math.PI*2,
      v: 0.6 + Math.random()*0.9,
      swing: 0.6 + Math.random()*1.2,
      spin: (Math.random()-.5)*0.01,
      size: 0.7 + Math.random()*0.7,
      alpha: 0.9
    };
  }
  for(let i=0;i<FLOATING_COUNT;i++) petals.push(makeFloating());

  // Burst particles for the 'blast' effect
  const bursts = [];
  function spawnBurst(x,y){
    const N = 90;
    for(let i=0;i<N;i++){
      const spr = SPRITES[Math.floor(Math.random()*SPRITES.length)];
      const a = Math.random()*Math.PI*2;
      const sp = 3 + Math.random()*6;
      bursts.push({
        spr, x, y, vx: Math.cos(a)*sp, vy: Math.sin(a)*sp,
        r: Math.random()*Math.PI*2, spin:(Math.random()-.5)*0.06,
        size: 0.6 + Math.random()*0.6, alpha:1
      });
    }
  }

  function tick(){
    actx.clearRect(0,0,innerWidth,innerHeight);

    // floating petals
    petals.forEach(p=>{
      p.r += p.spin;
      p.x += Math.sin(p.r*3)*p.swing*0.3;
      p.y += p.v;
      if(p.y > innerHeight+80){ Object.assign(p, makeFloating(), {y:-80}); }

      actx.save();
      actx.translate(p.x, p.y);
      actx.rotate(p.r);
      actx.globalAlpha = p.alpha;
      const w = p.spr.width*p.size, h = p.spr.height*p.size;
      actx.drawImage(p.spr, -w/2, -h/2, w, h);
      actx.restore();
    });

    // burst particles
    for(let i=bursts.length-1; i>=0; i--){
      const b = bursts[i];
      b.x += b.vx; b.y += b.vy; b.r += b.spin; b.alpha -= 0.02;
      actx.save();
      actx.translate(b.x,b.y); actx.rotate(b.r); actx.globalAlpha = Math.max(0,b.alpha);
      const w = b.spr.width*b.size, h = b.spr.height*b.size;
      actx.drawImage(b.spr, -w/2, -h/2, w, h);
      actx.restore();
      if(b.alpha <= 0) bursts.splice(i,1);
    }

    requestAnimationFrame(tick);
  }
  tick();

  // expose for the intro
  window.blastAllPetals = function(x,y){ spawnBurst(x,y); };
})();

/* -------- Intro + Card flow -------- */
function beginExperience() {
  const touchIntro = document.getElementById('touchIntro');
  const invitationCard = document.getElementById('invitationCard');
  const nameWrapper = document.getElementById('nameWrapper');
  const heartBtn = document.getElementById('heartBtn');

  // Merge names
  nameWrapper.classList.add('name-merge');

  // Burst petals from heart center
  const r = heartBtn.getBoundingClientRect();
  const cx = r.left + r.width/2;
  const cy = r.top  + r.height/2;
  window.blastAllPetals(cx, cy);

  // Hide intro, show card
  setTimeout(() => { touchIntro.classList.add('hidden'); }, 900);
  setTimeout(() => { invitationCard.classList.add('visible'); }, 1200);
}

/* -------- RSVP -------- */
function rsvp(response) {
  const message = response === 'yes' 
    ? "Thank you! We can't wait to celebrate with you! üíï" 
    : "We'll miss you, but thank you for letting us know! üíï";
  alert(message);
}
</script>
</body>
</html>
