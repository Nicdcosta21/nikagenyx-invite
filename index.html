<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>NIKOLAS & KAVITA — 27 Oct 2025, Kochi</title>

<link rel="icon" href="data:," />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

<meta name="description" content="Wedding Ceremony of Nikolas Samson D’Costa and Kavita Kevin Fernandes — 27 Oct 2025, 3:00 PM at Santa Cruz Cathedral Basilica, Fort Kochi. Reception at The Croft, Kochi. Home: Zion Villa, MLA Road, Pallurthy, Kochi 682006." />
<meta property="og:title" content="NIKOLAS & KAVITA — Wedding Ceremony" />
<meta property="og:description" content="27 Oct 2025 • 3:00 PM • Santa Cruz Cathedral Basilica, Fort Kochi • Reception at The Croft, Kochi." />
<meta property="og:type" content="website" />
<meta property="og:image" content="/assets/hero.jpg" />
<meta name="theme-color" content="#7b1733" />

<style>
  :root { --wine:#7b1733; --wine-soft:#fdebef; --ink:#1f2937; }
  html, body { height: 100%; scroll-behavior: smooth; }
  body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; color: var(--ink); position: relative; }

  /* Background (won't be visible at start because petals fully cover it) */
  body::before{
    content:""; position:fixed; inset:0; z-index:-3;
    background:url('/assets/hero.jpg') center / cover no-repeat;
    filter:saturate(.95) brightness(.9);
  }
  body::after{
    content:""; position:fixed; inset:0; z-index:-2;
    background:
      radial-gradient(80% 70% at 50% -10%, rgba(123,23,51,.25), transparent 60%),
      linear-gradient(180deg, rgba(20,6,10,.55), rgba(20,6,10,.65));
  }

  /* PETAL LAYERS */
  /* Static carpet (drawn once) */
  #fxStatic{ position:fixed; inset:0; z-index:60; pointer-events:none; }
  /* Light animation layer on top of carpet */
  #fxAnim{ position:fixed; inset:0; z-index:61; pointer-events:none; }

  /* Touch-to-begin overlay (names + heart ABOVE petals) */
  #touchIntro {
    position:fixed; inset:0; z-index:70; display:flex; align-items:center; justify-content:center; flex-direction:column;
    padding:2rem; text-align:center; color:#fff; background:transparent; backdrop-filter:none;
    transition:opacity .6s ease, visibility .6s ease;
  }
  #touchIntro.hidden{ opacity:0; visibility:hidden; }

  .name-text{
    font-family:"Playfair Display", Georgia, serif;
    font-size:clamp(28px, 8vw, 60px);
    font-weight:700;
    line-height:1.2; letter-spacing:.01em; text-shadow:0 2px 14px rgba(0,0,0,.45);
    opacity:0; transform:translateY(16px); animation: fadeUp 1s ease forwards;
  }
  .name-left{ transform: translateX(-40px); animation-delay:.2s; }
  .name-right{ transform: translateX(40px);  animation-delay:.2s; }
  .name-merge .name-left, .name-merge .name-right { transform: translateX(0); }

  /* 3D heart button */
  .heart-btn{
    background:none; border:none; cursor:pointer; margin:0 12px;
    width:clamp(88px, 16vw, 128px); aspect-ratio:1/1;
    display:grid; place-items:center; opacity:0; animation:fadeUp 1s ease .4s forwards;
    transform:translateZ(0); /* GPU */
  }
  .heart-svg{
    width:100%; height:100%;
    filter: drop-shadow(0 10px 14px rgba(0,0,0,.35));
    transition: transform .2s ease;
  }
  .heart-btn:hover .heart-svg{ transform: translateY(-2px) scale(1.03); }
  .touch-text{
    position:absolute; font-size:clamp(10px,2.5vw,16px); font-weight:600; color:#fff; opacity:.75;
    text-shadow:0 1px 4px rgba(0,0,0,.55);
  }

  @keyframes fadeUp { to { opacity:1; transform:none; } }

  /* Reel overlay (unchanged) */
  #reel {
    position:fixed; inset:0; z-index:65; display:none; align-items:center; justify-content:center; flex-direction:column;
    padding:2rem; text-align:center; color:#fff; background:rgba(10,4,6,.55); backdrop-filter: blur(2px);
    transition:opacity .4s ease, visibility .4s ease;
  }
  #reel.visible{ display:flex; }
  #reel.hidden{ opacity:0; visibility:hidden; }

  .reel-stage{ width:min(92vw, 900px); display:flex; align-items:center; justify-content:center; flex-direction:column; }
  .reel-line{
    font-family:"Playfair Display", Georgia, serif; text-shadow:0 2px 14px rgba(0,0,0,.45);
    font-size:clamp(22px,5vw,48px); line-height:1.2; opacity:0; transform:translateY(16px); margin-bottom:20px;
  }
  .fx-fadeUp{ animation: fadeUp .55s ease forwards; }
  .fx-zoomOut{ animation: zoomOut .7s ease forwards; transform:scale(1.08); }
  .fx-wipeLeft{ animation: wipeLeft .55s ease forwards; }
  .fx-words .word{ display:inline-block; opacity:0; transform:translateY(10px); animation: wordUp .45s ease forwards; }
  @keyframes zoomOut{ to{ opacity:1; transform:scale(1); } }
  @keyframes wipeLeft{ from{ clip-path:inset(0 0 0 100%); opacity:.2 } to{ clip-path:inset(0 0 0 0); opacity:1 } }
  @keyframes wordUp{ to{ opacity:1; transform:none; } }

  .btn{ display:inline-flex; align-items:center; justify-content:center; padding:.8rem 1.15rem; border-radius:.75rem; font-weight:600; position:relative; overflow:hidden; }
  .btn-primary{ background:var(--wine); color:#fff; border:1px solid rgba(0,0,0,.05); }
  #reel .btn-outline{ background:transparent; border:1px solid rgba(255,255,255,.7); color:#fff; }

  /* Main card/content (unchanged) */
  h1,h2,h3 { font-family: "Playfair Display", Georgia, serif; }
  .heading-elegant{ letter-spacing:.01em; }
  .hero{ min-height:100vh; display:flex; align-items:center; }
  .card{
    background:#fff; color:var(--ink); border-radius:1.25rem; padding:2rem;
    box-shadow:0 25px 50px rgba(0,0,0,.28);
    background-image:radial-gradient(80% 60% at 5% 0%, var(--wine-soft), transparent 40%);
    transform: translateY(10px); opacity:0; transition: transform .8s ease, opacity .8s ease;
  }
  .card.in{ transform:none; opacity:1; }
  .underline-link{ color:var(--wine); text-decoration:underline; }
  .smallcaps{ letter-spacing:.08em; text-transform:uppercase; }
  blockquote.verse{ font-style:italic; color:#f8e7ec; text-shadow:0 1px 0 rgba(0,0,0,.1); }
  blockquote.verse small{ display:block; margin-top:.35rem; opacity:.9; }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce){
    #reel, #touchIntro{ display:none; }
    .card{ opacity:1; transform:none; }
    #fxStatic, #fxAnim{ display:none; }
  }
</style>
</head>
<body class="bg-white antialiased">

  <!-- PETAL LAYERS -->
  <canvas id="fxStatic"></canvas>
  <canvas id="fxAnim"></canvas>

  <!-- Audio -->
  <audio id="bgm" preload="auto" loop>
    <source src="/assets/music.mp3" type="audio/mpeg" />
  </audio>
  <button id="musicToggle" aria-pressed="false" aria-label="Toggle music" style="position:fixed; right:.75rem; top:.75rem; z-index:75; background:rgba(255,255,255,.9); color:#111; border-radius:.65rem; padding:.45rem .7rem; font-weight:600; border:1px solid rgba(0,0,0,.08);">Music: Off</button>

  <!-- Names + Heart (above petals) -->
  <div id="touchIntro" role="dialog" aria-modal="true" aria-label="Intro">
    <div id="namesWrap" class="flex gap-4 items-center">
      <div class="name-text name-left">NIKOLAS</div>

      <button class="heart-btn" id="heartButton" aria-label="Begin">
        <!-- 3D SVG Heart: gradient + highlight -->
        <svg class="heart-svg" viewBox="0 0 24 24" aria-hidden="true">
          <defs>
            <linearGradient id="heartGrad" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%"  stop-color="#ff6b8f"/>
              <stop offset="45%" stop-color="#e91e63"/>
              <stop offset="100%" stop-color="#a71235"/>
            </linearGradient>
            <radialGradient id="heartShine" cx="30%" cy="25%" r="60%">
              <stop offset="0%" stop-color="rgba(255,255,255,.9)"/>
              <stop offset="60%" stop-color="rgba(255,255,255,.0)"/>
            </radialGradient>
          </defs>
          <path fill="url(#heartGrad)" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
          <!-- glossy highlight -->
          <path fill="url(#heartShine)" d="M12 4.8c-1.6-2-5.8-2.2-7.8.3-2.2 2.8-.6 6.4 1.7 8.7 2.6 2.7 5.3 4.8 6.1 5.4 0 0 3.2-2.7 5.7-5.2 1.8-1.8 3.7-4.9 2-7.6-2.2-3.4-6.4-2.6-7.7-1.6-.7.6-1.3.6-2 0z" opacity=".5"/>
        </svg>
        <span class="touch-text">touch me</span>
      </button>

      <div class="name-text name-right">KAVITA</div>
    </div>
  </div>

  <!-- Reel overlay (kept) -->
  <div id="reel" role="dialog" aria-modal="true" aria-label="Intro">
    <div class="reel-stage" id="reelStage"></div>
    <div class="intro-controls">
      <button id="introSkip" class="btn btn-outline">Skip intro</button>
    </div>
  </div>

  <!-- Main content (same as yours; trimmed here for brevity) -->
  <header class="hero">
    <div class="w-full">
      <div class="max-w-3xl mx-auto px-6 py-10 text-center">
        <blockquote class="verse text-white text-base md:text-lg leading-relaxed">
          “Place me like a seal over your heart… for love is as strong as death… Many waters cannot quench love; rivers cannot sweep it away”
          <small>— Song of Solomon 8:6–7</small>
        </blockquote>

        <div class="card mt-8" id="mainCard">
          <p class="text-gray-600">You are cordially invited, together with their families, to the</p>
          <h2 class="heading-elegant text-4xl md:text-6xl font-bold mt-2">WEDDING CEREMONY</h2>
          <div class="mt-5 text-gray-700">
            <p class="text-base md:text-lg">s/o Samson Nicholas D’Costa and Suni Samson D’Costa,</p>
            <h1 class="heading-elegant text-4xl md:text-6xl font-bold tracking-wide mt-1">NIKOLAS &amp; KAVITA</h1>
            <p class="text-base md:text-lg mt-1">d/o Kevin Thomas Fernandes and Annie Kevin Fernandes.</p>
          </div>
          <!-- ... (rest of your content unchanged) ... -->
        </div>

        <p class="mt-6 text-sm uppercase tracking-widest text-white">Countdown</p>
        <div id="countdown" class="mt-1 text-2xl md:text-3xl font-semibold text-white"></div>
      </div>
    </div>
  </header>

  <footer class="py-10 text-center text-gray-200 text-sm">
    invite.nikagenyx.com · Kochi, Kerala
  </footer>

<script>
/* ---------- Countdown (unchanged) ---------- */
(function(){
  const target = new Date('2025-10-27T15:00:00+05:30').getTime();
  const el = document.getElementById('countdown');
  const pad = n => String(n).padStart(2,'0');
  function tick(){
    const now = Date.now();
    let diff = Math.max(0, target - now);
    const d = Math.floor(diff / 86400000); diff -= d*86400000;
    const h = Math.floor(diff / 3600000);  diff -= h*3600000;
    const m = Math.floor(diff / 60000);    diff -= m*60000;
    const s = Math.floor(diff / 1000);
    el.textContent = `${d} days ${pad(h)}:${pad(m)}:${pad(s)}`;
  }
  tick(); setInterval(tick, 1000);
})();

/* ---------- Music toggle (unchanged) ---------- */
const bgm = document.getElementById('bgm');
const musicToggle = document.getElementById('musicToggle');
let musicOn = true;
function setMusic(on){
  musicOn = !!on; bgm.muted = !musicOn;
  musicToggle.setAttribute('aria-pressed', String(musicOn));
  musicToggle.textContent = musicOn ? 'Music: On' : 'Music: Off';
}
setMusic(true);
musicToggle.addEventListener('click', async ()=>{
  setMusic(!musicOn);
  if(musicOn){ try{ await bgm.play(); }catch{} } else { bgm.pause(); }
});
bgm.volume = 0.7;

/* ---------- 3D Petal Engine (carpet + light animation) ---------- */
(function(){
  const staticCanvas = document.getElementById('fxStatic');
  const animCanvas   = document.getElementById('fxAnim');
  const sctx = staticCanvas.getContext('2d');
  const actx = animCanvas.getContext('2d');

  // cap DPR for low-end phones
  const DPR_CAP = 1.25;
  function fitCanvas(c){
    const dpr = Math.min(window.devicePixelRatio || 1, DPR_CAP);
    c.width  = Math.floor(innerWidth  * dpr);
    c.height = Math.floor(innerHeight * dpr);
    c.style.width  = innerWidth + 'px';
    c.style.height = innerHeight + 'px';
    const ctx = c.getContext('2d');
    ctx.setTransform(dpr,0,0,dpr,0,0);
    return dpr;
  }

  let dpr = fitCanvas(staticCanvas); fitCanvas(animCanvas);
  addEventListener('resize', () => { dpr = fitCanvas(staticCanvas); fitCanvas(animCanvas); drawStaticCarpet(); });

  /* --- Make shaded petal sprites (fast reuse) --- */
  function makePetalSprite(scale=1, hue=345){
    const w = Math.round(80*scale), h = Math.round(120*scale);
    const cvs = document.createElement('canvas'); cvs.width=w; cvs.height=h;
    const ctx = cvs.getContext('2d');

    ctx.translate(w/2, h/2);
    ctx.rotate(Math.PI/2); // long axis vertical in sprite space

    // main body with gradient (gives 3D volume)
    const grad = ctx.createLinearGradient(-w/2, -h/2, w/2, h/2);
    grad.addColorStop(0,  `hsl(${hue},72%,80%)`);
    grad.addColorStop(.45,`hsl(${hue},70%,60%)`);
    grad.addColorStop(1,  `hsl(${hue},72%,40%)`);
    ctx.fillStyle = grad;

    ctx.beginPath();
    ctx.ellipse(0,0, w*0.28, h*0.46, 0, 0, Math.PI*2);
    ctx.shadowColor = 'rgba(0,0,0,.18)'; ctx.shadowBlur = 6; ctx.shadowOffsetY = 2;
    ctx.fill();

    // rim + soft highlight
    ctx.shadowColor = 'transparent';
    ctx.lineWidth = 1; ctx.strokeStyle = 'rgba(0,0,0,.15)'; ctx.stroke();

    const shine = ctx.createRadialGradient(-w*0.12, -h*0.18, 0, -w*0.12, -h*0.18, w*0.4);
    shine.addColorStop(0,'rgba(255,255,255,.55)');
    shine.addColorStop(1,'rgba(255,255,255,0)');
    ctx.fillStyle = shine;
    ctx.beginPath();
    ctx.ellipse(-w*0.05,-h*0.18, w*0.18, h*0.22, 0, 0, Math.PI*2);
    ctx.fill();

    return cvs;
  }

  const SPRITES = [
    makePetalSprite(1.00, 345),
    makePetalSprite(0.90, 350),
    makePetalSprite(1.10, 340),
  ];

  /* --- Static petal carpet (grid with jitter so it fully covers) --- */
  function drawStaticCarpet(){
    sctx.clearRect(0,0,innerWidth,innerHeight);

    // Step tuned to overlap; smaller step => denser carpet
    const STEP = Math.max(40, Math.min(64, Math.floor(innerWidth/18)));
    // Slightly overscan so edges are covered even on rotate/scroll bounce
    const startX = -STEP, startY = -STEP;
    const endX = innerWidth + STEP, endY = innerHeight + STEP;

    for(let y=startY, row=0; y<endY; y+=STEP, row++){
      for(let x=startX; x<endX; x+=STEP){
        // pick a sprite, add jitter & rotation
        const spr = SPRITES[(row + Math.floor(x/STEP)) % SPRITES.length];
        const jx = x + (Math.random()*STEP*0.6 - STEP*0.3);
        const jy = y + (Math.random()*STEP*0.6 - STEP*0.3);
        const rot = (Math.random()*Math.PI*2);
        const size = 0.85 + Math.random()*0.5;

        sctx.save();
        sctx.translate(jx, jy);
        sctx.rotate(rot);
        sctx.globalAlpha = 0.9; // denser look
        const w = spr.width*size, h = spr.height*size;
        sctx.drawImage(spr, -w/2, -h/2, w, h);
        sctx.restore();
      }
    }
  }
  drawStaticCarpet();

  /* --- Light floating petals on top (low count = mobile friendly) --- */
  const FLOATING_COUNT = /Mobi|Android/i.test(navigator.userAgent) ? 18 : 28;
  const petals = [];
  function makeFloating(){
    const spr = SPRITES[Math.floor(Math.random()*SPRITES.length)];
    return {
      spr,
      x: Math.random()*innerWidth,
      y: -50 - Math.random()*innerHeight,
      r: Math.random()*Math.PI*2,
      v: 0.6 + Math.random()*0.9,
      swing: 0.6 + Math.random()*1.2,
      spin: (Math.random()-.5)*0.01,
      size: 0.7 + Math.random()*0.7,
      alpha: 0.85
    };
  }
  for(let i=0;i<FLOATING_COUNT;i++) petals.push(makeFloating());

  function tick(){
    actx.clearRect(0,0,innerWidth,innerHeight);
    petals.forEach(p=>{
      p.r += p.spin;
      p.x += Math.sin(p.r*3)*p.swing*0.3;
      p.y += p.v;
      if(p.y > innerHeight+80){ Object.assign(p, makeFloating(), {y:-80}); }

      actx.save();
      actx.translate(p.x, p.y);
      actx.rotate(p.r);
      actx.globalAlpha = p.alpha;
      const w = p.spr.width*p.size, h = p.spr.height*p.size;
      actx.drawImage(p.spr, -w/2, -h/2, w, h);
      actx.restore();
    });
    requestAnimationFrame(tick);
  }
  tick();
})();

/* ---------- Intro (names/heart above petals) ---------- */
const touchIntro = document.getElementById('touchIntro');
const namesWrap = document.getElementById('namesWrap');
const heartButton = document.getElementById('heartButton');
const reel = document.getElementById('reel');
const stage = document.getElementById('reelStage');
const introSkip = document.getElementById('introSkip');

let hasStarted = false;
const scenes = [
  { text: "With great joy and gratitude,",        effect: "fx-fadeUp",   duration: 1100 },
  { text: "Nikolas & Kavita",                      effect: "fx-zoomOut",  duration: 1200 },
  { text: "Invite you to celebrate their wedding", effect: "fx-wipeLeft", duration: 1000 },
  { text: "On Monday, 27 October 2025",            effect: "fx-words",    duration: 1200 },
  { text: "At Santa Cruz Cathedral Basilica",      effect: "fx-fadeUp",   duration: 1100 },
  { text: "Reception to follow at The Croft",      effect: "fx-words",    duration: 1300 }
];
const gap = 160;
function makeLine(text, effect){
  const el = document.createElement('div');
  el.className = 'reel-line';
  if(effect === 'fx-words'){
    el.classList.add('fx-words');
    text.split(' ').forEach((w,i)=>{
      const span = document.createElement('span');
      span.className = 'word';
      span.textContent = (i? ' ' : '') + w;
      span.style.animationDelay = (i*70)+'ms';
      el.appendChild(span);
    });
  } else {
    el.textContent = text;
    el.classList.add(effect);
  }
  return el;
}
function playScenes(){
  stage.innerHTML = '';
  let t = 0;
  scenes.forEach(s=>{ setTimeout(()=>{ stage.appendChild(makeLine(s.text, s.effect)); }, t); t += s.duration + gap; });
  setTimeout(endIntro, t - gap + 350);
}
function endIntro(){
  touchIntro.classList.add('hidden');
  reel.classList.add('hidden');
  document.getElementById('mainCard')?.classList.add('in');
}
function startExperience(){
  if (hasStarted) return; hasStarted = true;
  try{ bgm.play(); }catch{}
  namesWrap.classList.add('name-merge');
  setTimeout(()=>{ touchIntro.classList.add('hidden'); reel.classList.add('visible'); playScenes(); }, 900);
}
heartButton.addEventListener('click', startExperience);
introSkip.addEventListener('click', endIntro);
</script>
</body>
</html>
